{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function fetchImg(query) {\n  const searchParams = new URLSearchParams({\n    key: '47110078-1dfbe4a00d7fe250476d6992f',\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n  const url = `https://pixabay.com/api/?${searchParams}`;\n\n  return fetch(url).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n","export function createGallery(images) {\n  const gallery = document.querySelector('.gallery');\n  const markup = images\n    .map(\n      image =>\n        `<li class=\"gallery-item\">\n      <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n        <img src=\"${image.webformatURL}\"\n        alt=\"${image.tags}\"/>\n        </a>\n        <div class=\"descr-list\">\n        <div class=\"descr-item\">\n        <b class=\"info\">Likes</b>\n        <span class=\"value\">${image.likes}</span>\n        </div>\n        <div class=\"descr-item\">\n        <b class=\"info\">Views</b>\n        <span class=\"value\">${image.views}</span>\n        </div>\n        <div class=\"descr-item\">\n        <b class=\"info\">Comments</b>\n        <span class=\"value\">${image.comments}</span>\n        </div>\n        <div class=\"descr-item\">\n        <b class=\"info\">Downloads</b>\n        <span class=\"value\">${image.downloads}</span>\n        </div>\n        </div>\n        </li>`\n    )\n    .join('');\n  gallery.innerHTML = markup;\n}\n\nexport function clearGallery() {\n  const gallery = document.querySelector('.gallery');\n  gallery.innerHTML = '';\n}\n","import axios from 'axios';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { fetchImg } from './js/pixabay-api';\nimport { createGallery, clearGallery } from './js/render-functions';\n\nconst form = document.querySelector('.search-form');\nconst loader = document.querySelector('.loader');\nloader.hidden = true;\n\nform.addEventListener('submit', searchImg);\n\nfunction searchImg(event) {\n  event.preventDefault();\n  const query = event.target.elements.image.value.trim();\n  if (!query) {\n    iziToast.warning({\n      message: 'Warning! The form is empty, please fill searching form.',\n      position: 'topRight',\n    });\n    form.reset();\n    return;\n  }\n\n  clearGallery();\n  form.reset();\n\n  loader.hidden = false;\n\n  fetchImg(query)\n    .then(data => {\n      if (data.hits.length === 0) {\n        iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n        });\n        return;\n      }\n\n      createGallery(data.hits);\n      let lightbox = new SimpleLightbox('.gallery-link', {\n        captionsData: 'alt',\n        captionDelay: 250,\n      });\n      lightbox.refresh();\n    })\n    .catch(error => {\n      iziToast.error({\n        message: 'Error!',\n        position: 'topRight',\n      });\n      console.error(error);\n    })\n    .finally(() => {\n      loader.hidden = true;\n    });\n}\n"],"names":["fetchImg","query","url","response","createGallery","images","gallery","markup","image","clearGallery","form","loader","searchImg","event","iziToast","data","SimpleLightbox","error"],"mappings":"6vBAAO,SAASA,EAASC,EAAO,CAQ9B,MAAMC,EAAM,4BAPS,IAAI,gBAAgB,CACvC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,CACmD,GAEpD,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAY,CACjC,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,CChBO,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAASF,EACZ,IACCG,GACE;AAAA,sCAC8BA,EAAM,aAAa;AAAA,oBACrCA,EAAM,YAAY;AAAA,eACvBA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,8BAKKA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,8BAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,8BAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,8BAIdA,EAAM,SAAS;AAAA;AAAA;AAAA,cAIxC,EACA,KAAK,EAAE,EACVF,EAAQ,UAAYC,CACtB,CAEO,SAASE,GAAe,CAC7B,MAAMH,EAAU,SAAS,cAAc,UAAU,EACjDA,EAAQ,UAAY,EACtB,CC7BA,MAAMI,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAS,SAAS,cAAc,SAAS,EAC/CA,EAAO,OAAS,GAEhBD,EAAK,iBAAiB,SAAUE,CAAS,EAEzC,SAASA,EAAUC,EAAO,CACxBA,EAAM,eAAc,EACpB,MAAMZ,EAAQY,EAAM,OAAO,SAAS,MAAM,MAAM,OAChD,GAAI,CAACZ,EAAO,CACVa,EAAS,QAAQ,CACf,QAAS,0DACT,SAAU,UAChB,CAAK,EACDJ,EAAK,MAAK,EACV,MACD,CAEDD,IACAC,EAAK,MAAK,EAEVC,EAAO,OAAS,GAEhBX,EAASC,CAAK,EACX,KAAKc,GAAQ,CACZ,GAAIA,EAAK,KAAK,SAAW,EAAG,CAC1BD,EAAS,MAAM,CACb,QACE,2EACF,SAAU,UACpB,CAAS,EACD,MACD,CAEDV,EAAcW,EAAK,IAAI,EACR,IAAIC,EAAe,gBAAiB,CACjD,aAAc,MACd,aAAc,GACtB,CAAO,EACQ,QAAO,CACtB,CAAK,EACA,MAAMC,GAAS,CACdH,EAAS,MAAM,CACb,QAAS,SACT,SAAU,UAClB,CAAO,EACD,QAAQ,MAAMG,CAAK,CACzB,CAAK,EACA,QAAQ,IAAM,CACbN,EAAO,OAAS,EACtB,CAAK,CACL"}